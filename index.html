<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Kimberly!</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Pinyon+Script&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        :root{--pink:#ff69b4;--light-pink:#ffb6c1;--dark-pink:#ff1493;--soft-pink:#ffd1dc}
        body{font-family:'Press Start 2P',cursive;background:#1a0a1a;min-height:100vh;overflow:hidden;image-rendering:pixelated}
        .pw-screen{position:fixed;inset:0;background:linear-gradient(180deg,#ffb6c1,#ffd1dc 50%,#fff);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:1000;gap:20px}
        .pw-screen.hidden{display:none}
        .pw-title{font-size:clamp(12px,3vw,24px);color:var(--dark-pink);text-shadow:3px 3px 0 var(--light-pink);text-align:center;padding:0 20px}
        .pw-sub{font-size:clamp(8px,2vw,12px);color:#666}
        .pw-input{font-family:inherit;font-size:clamp(12px,2.5vw,16px);padding:15px 25px;border:4px solid var(--dark-pink);background:#fff;text-align:center;outline:none;box-shadow:4px 4px 0 var(--pink);text-transform:uppercase}
        .pw-btn{font-family:inherit;font-size:clamp(10px,2vw,14px);padding:15px 30px;background:linear-gradient(180deg,var(--pink),var(--dark-pink));color:#fff;border:4px solid var(--dark-pink);cursor:pointer;box-shadow:4px 4px 0 #8b0040}
        .pw-btn:hover{transform:translate(2px,2px);box-shadow:2px 2px 0 #8b0040}
        .pw-err{font-size:clamp(8px,1.5vw,10px);color:#ff4444;opacity:0;transition:opacity 0.3s}
        .pw-err.show{opacity:1}
        .heart-float{position:absolute;font-size:30px;animation:float 3s ease-in-out infinite}
        @keyframes float{0%,100%{transform:translateY(0) rotate(-5deg)}50%{transform:translateY(-15px) rotate(5deg)}}
        .intro{position:fixed;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:900;background:linear-gradient(180deg,#1a1a3e,#2d1f4e 50%,#ff69b4);opacity:0;pointer-events:none;transition:opacity 0.5s;padding:20px}
        .intro.active{opacity:1;pointer-events:auto}
        .intro-text{font-size:clamp(14px,4vw,28px);color:#fff;text-align:center;text-shadow:0 0 20px var(--pink);line-height:2}
        .intro-arrow{margin-top:30px;font-size:24px;animation:bounce 0.5s ease-in-out infinite alternate}
        @keyframes bounce{from{transform:translateY(0)}to{transform:translateY(10px)}}
        .intro-click{font-size:clamp(8px,2vw,12px);color:var(--light-pink);animation:pulse 1s ease-in-out infinite}
        @keyframes pulse{0%,100%{opacity:0.5}50%{opacity:1}}
        .confetti-screen{background:radial-gradient(ellipse at center,#ff69b4,#1a1a3e)}
        .confetti-title{font-size:clamp(16px,5vw,36px);color:#fff;text-align:center;text-shadow:0 0 30px gold;animation:glow 1s ease-in-out infinite alternate}
        @keyframes glow{from{text-shadow:0 0 30px gold}to{text-shadow:0 0 50px gold,0 0 100px var(--pink)}}
        .confetti-box{position:absolute;inset:0;overflow:hidden;pointer-events:none}
        .confetti{position:absolute;top:-20px;width:12px;height:12px;animation:fall linear forwards}
        @keyframes fall{to{transform:translateY(100vh) rotate(720deg)}}
        .ac-chars{position:absolute;bottom:12%;left:50%;transform:translateX(-50%);display:flex;gap:20px}
        .ac-char{width:60px;height:60px;image-rendering:pixelated;object-fit:contain}
        .game{position:fixed;inset:0;display:none;justify-content:center;align-items:center;background:#2a1a3a}
        .game.active{display:flex}
        .room{position:relative;width:100%;max-width:900px;height:100%;max-height:600px;overflow:hidden;border:8px solid #5c3d2e;box-shadow:0 0 0 4px #3d2518;cursor:pointer}
        .wall{position:absolute;top:0;left:0;width:100%;height:55%;background:linear-gradient(180deg,#ffe8f0,#ffd6e7)}
        .wall-pattern{position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,200,210,0.2) 1px,transparent 1px),linear-gradient(rgba(255,200,210,0.2) 1px,transparent 1px);background-size:40px 40px}
        .baseboard{position:absolute;top:55%;left:0;width:100%;height:20px;background:linear-gradient(180deg,#d4b896,#8b6914);border-top:3px solid #e8d4b8;z-index:10}
        .floor{position:absolute;bottom:0;left:0;width:100%;height:45%;background:#d4a056}
        .floor-pattern{position:absolute;inset:0;background:repeating-linear-gradient(90deg,rgba(139,105,20,0.1) 0px,rgba(139,105,20,0.1) 2px,transparent 2px,transparent 80px)}
        .window{position:absolute;top:8%;left:50%;transform:translateX(-50%);width:130px;height:110px;background:linear-gradient(180deg,#87ceeb,#b0e0e6);border:8px solid #5c3d2e;z-index:2;overflow:hidden}
        .room.night .window{background:linear-gradient(180deg,#0a0a2e,#1a1a4e)}
        .window-h{position:absolute;top:50%;left:0;width:100%;height:8px;background:#5c3d2e;transform:translateY(-50%)}
        .window-v{position:absolute;top:0;left:50%;width:8px;height:100%;background:#5c3d2e;transform:translateX(-50%)}
        .sun{position:absolute;top:15px;right:15px;width:25px;height:25px;background:radial-gradient(circle,#ffff00,#ffa500);border-radius:50%;box-shadow:0 0 15px #ffff00}
        .moon{position:absolute;top:15px;right:15px;width:20px;height:20px;background:#fffacd;border-radius:50%;display:none}
        .room.night .sun{display:none}
        .room.night .moon{display:block}
        .star{position:absolute;width:3px;height:3px;background:#fff;opacity:0}
        .room.night .star{opacity:1;animation:twinkle 2s infinite}
        @keyframes twinkle{0%,100%{opacity:0.3}50%{opacity:1}}
        .wall-deco{position:absolute;z-index:2}
        .pic-frame{top:6%;left:5%;width:85px;height:100px;background:linear-gradient(135deg,#a67c52,#8b6914);border:6px solid #5c3d2e;cursor:pointer;box-shadow:3px 3px 0 rgba(0,0,0,0.3)}
        .pic-frame:hover{transform:scale(1.03)}
        .pic-inner{position:absolute;inset:6px;background:var(--soft-pink);display:flex;justify-content:center;align-items:center;overflow:hidden}
        .pic-inner img{width:100%;height:100%;object-fit:cover;image-rendering:pixelated}
        .wall-heart{top:10%;right:8%;font-size:35px;animation:gentle 4s infinite}
        @keyframes gentle{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
        .wall-bow{top:25%;left:24%;font-size:24px}
        .wall-star{top:18%;right:22%;font-size:20px}
        
        /* ============ FURNITURE - Positioned on floor ============ */
        /* Floor starts at 55% from top, so furniture bottom should align there */
        
        /* BED - Left side, sitting on floor */
        .bed{position:absolute;bottom:0;left:3%;width:180px;height:120px;z-index:5;cursor:pointer}
        .bed-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        
        /* PORCUPINE - On the bed, positioned relative to bed */
        .porcupine{position:absolute;bottom:60%;left:55%;width:32px;height:32px;z-index:6;cursor:pointer}
        .porcupine:hover{transform:scale(1.1)}
        .porcupine-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        .porc-msg{position:absolute;top:-35px;left:50%;transform:translateX(-50%);background:#fff;padding:6px 12px;border-radius:10px;border:2px solid var(--pink);font-size:7px;white-space:nowrap;opacity:0;transition:opacity 0.3s;z-index:100}
        .porc-msg.show{opacity:1}
        
        /* TABLE - Center, sitting on floor */
        .table{position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:160px;height:80px;z-index:5}
        .table-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        
        /* ITEMS ON TABLE - Positioned on top of table */
        .items{position:absolute;bottom:55px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:20;align-items:flex-end}
        .item{width:28px;height:28px;cursor:grab;transition:transform 0.2s;display:flex;align-items:center;justify-content:center}
        .item:hover{transform:scale(1.15) translateY(-5px)}
        .item-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        
        /* CLOSET - Right side, sitting on floor */
        .closet{position:absolute;bottom:0;right:3%;width:100px;height:160px;z-index:5;cursor:pointer}
        .closet-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        
        /* PLANT - Right side, next to closet */
        .plant{position:absolute;bottom:0;right:18%;width:50px;height:70px;z-index:6}
        .plant-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        
        /* CAT BED - Next to plant */
        .cat-bed{position:absolute;bottom:0;right:25%;width:60px;height:45px;z-index:4}
        .cat-bed-sprite{width:100%;height:100%;object-fit:contain;image-rendering:pixelated}
        
        /* ============ KIMBERLY - 96x96 ============ */
        .char{position:absolute;bottom:5%;left:42%;width:96px;height:96px;z-index:50;transition:left 0.5s ease-out}
        .outfit{display:block;width:100%;height:100%;position:relative}
        .outfit:not(.active){display:none}
        .char-sprite{width:100%;height:100%;image-rendering:pixelated;background-repeat:no-repeat;background-position:0 0;position:absolute;top:0;left:0}
        
        /* CASUAL OUTFIT */
        #casual-idle{
            background-image:url('./images/casual-idle.png');
            background-size:100% 100%;
        }
        #casual-walk{
            display:none;
            background-image:url('./images/casual-walk.png');
            background-size:400% 100%;
        }
        #casual-dance{
            display:none;
            background-image:url('./images/casual-dance.png');
            background-size:800% 100%;
        }
        #casual-drink{
            display:none;
            background-image:url('./images/casual-drink.png');
            background-size:600% 100%;
        }
        
        /* PAJAMAS OUTFIT */
        #pj-idle{
            background-image:url('./images/pj-idle.png');
            background-size:100% 100%;
        }
        #pj-walk{
            display:none;
            background-image:url('./images/pj-walk.png');
            background-size:400% 100%;
        }
        #pj-dance{
            display:none;
            background-image:url('./images/pj-dance.png');
            background-size:800% 100%;
        }
        #pj-drink{
            display:none;
            background-image:url('./images/pj-drink.png');
            background-size:600% 100%;
        }
        #pj-sleep{
            display:none;
            background-image:url('./images/pj-sleep.png');
            background-size:100% 100%;
        }
        
        /* ANIMATIONS */
        @keyframes walk4{from{background-position:0 0}to{background-position:100% 0}}
        @keyframes dance8{from{background-position:0 0}to{background-position:100% 0}}
        @keyframes drink6{from{background-position:0 0}to{background-position:100% 0}}
        
        .char.walking [id$="-walk"]{display:block;animation:walk4 0.5s steps(4) infinite}
        .char.walking [id$="-idle"]{display:none}
        .char.dancing [id$="-dance"]{display:block;animation:dance8 0.8s steps(8) infinite}
        .char.dancing [id$="-idle"]{display:none}
        .char.drinking [id$="-drink"]{display:block;animation:drink6 1.5s steps(6) forwards}
        .char.drinking [id$="-idle"]{display:none}
        .char.sleeping [id$="-sleep"]{display:block}
        .char.sleeping [id$="-idle"]{display:none}
        .char.walk-left{transform:scaleX(-1)}
        
        .activity{position:absolute;top:-25px;left:50%;transform:translateX(-50%);font-size:16px;display:none;z-index:60}
        .activity.active{display:block;animation:pop 0.3s}
        @keyframes pop{0%{transform:translateX(-50%) scale(0)}100%{transform:translateX(-50%) scale(1)}}
        .zzz{position:absolute;top:-15px;right:-8px;font-size:14px;display:none;animation:zzz 2s infinite}
        .zzz.active{display:block}
        @keyframes zzz{0%,100%{transform:translateY(0);opacity:0.5}50%{transform:translateY(-8px);opacity:1}}
        .drool{position:absolute;top:55px;left:60%;width:4px;height:10px;background:linear-gradient(180deg,transparent,#87ceeb);border-radius:0 0 50% 50%;display:none}
        .drool.active{display:block}
        
        /* ============ PEARL - 48x48, in front of cat bed ============ */
        .pearl{position:absolute;bottom:5%;right:26%;width:48px;height:48px;z-index:45}
        .pearl-halo{position:absolute;top:-10px;left:50%;transform:translateX(-50%);width:20px;height:8px;border:3px solid gold;border-radius:50%;z-index:101;animation:halo 2s infinite;background:transparent}
        @keyframes halo{0%,100%{box-shadow:0 0 5px gold,0 0 10px rgba(255,215,0,0.5)}50%{box-shadow:0 0 15px gold,0 0 25px rgba(255,215,0,0.7)}}
        .pearl-tag{position:absolute;top:-24px;left:50%;transform:translateX(-50%);background:#fff;border:2px solid var(--pink);border-radius:4px;padding:2px 6px;font-size:6px;color:var(--dark-pink);z-index:100;white-space:nowrap}
        .pearl-meow{position:absolute;top:-40px;left:50%;transform:translateX(-50%);background:#fff;border:2px solid var(--pink);border-radius:8px;padding:4px 8px;font-size:8px;opacity:0;transition:opacity 0.3s;z-index:102}
        .pearl-meow.show{opacity:1}
        .pearl-sprite{width:100%;height:100%;image-rendering:pixelated;background-repeat:no-repeat;background-position:0 0;position:absolute;top:0;left:0}
        
        /* PEARL ANIMATIONS */
        #pearl-idle{
            background-image:url('./images/pearl-idle.png');
            background-size:1000% 100%;
            animation:pearl10 2s steps(10) infinite;
        }
        #pearl-box{
            display:none;
            background-image:url('./images/pearl-box.png');
            background-size:400% 100%;
        }
        @keyframes pearl10{from{background-position:0 0}to{background-position:100% 0}}
        @keyframes pearl4{from{background-position:0 0}to{background-position:100% 0}}
        .pearl.in-box #pearl-idle{display:none}
        .pearl.in-box #pearl-box{display:block;animation:pearl4 1s steps(4) infinite}
        
        /* ============ UI ============ */
        .stats{position:absolute;top:10px;left:10px;display:flex;flex-direction:column;gap:6px;z-index:100}
        .stat{display:flex;align-items:center;gap:6px}
        .stat-icon{font-size:14px}
        .stat-bg{width:clamp(70px,18vw,130px);height:14px;background:rgba(0,0,0,0.4);border:3px solid var(--dark-pink)}
        .stat-fill{height:100%;background:linear-gradient(180deg,var(--light-pink),var(--dark-pink));transition:width 0.5s}
        .stat-fill.hunger{background:linear-gradient(180deg,#ffe4b5,#deb887)}
        .stat-msg{position:absolute;top:55px;left:10px;font-size:7px;color:var(--dark-pink);background:#fff;padding:6px 10px;border:2px solid var(--pink);opacity:0;transition:opacity 0.3s;z-index:100}
        .stat-msg.show{opacity:1}
        
        /* BUTTONS - Neatly spaced */
        .btns{position:absolute;top:10px;right:10px;display:grid;grid-template-columns:1fr 1fr;gap:6px;z-index:100}
        .btn{font-family:inherit;font-size:clamp(6px,1.3vw,8px);padding:8px 10px;background:linear-gradient(180deg,var(--light-pink),var(--pink));color:#fff;border:3px solid var(--dark-pink);cursor:pointer;box-shadow:2px 2px 0 #8b0040;text-align:center;white-space:nowrap}
        .btn:hover{transform:translate(1px,1px);box-shadow:1px 1px 0 #8b0040}
        
        .memory{position:absolute;bottom:10px;left:10px;background:#fff;padding:10px 14px;border:4px solid var(--pink);z-index:100}
        .mem-title{font-size:clamp(5px,1vw,7px);color:var(--dark-pink);margin-bottom:6px}
        .mem-date{font-size:clamp(5px,1vw,7px);color:#666;margin-bottom:8px}
        .mem-days{font-size:clamp(8px,1.8vw,14px);color:var(--dark-pink)}
        .music{position:absolute;bottom:10px;right:10px;background:#fff;padding:8px 12px;border:4px solid var(--pink);z-index:100}
        .music-title{font-size:clamp(5px,1vw,7px);color:var(--dark-pink);text-align:center;margin-bottom:6px}
        .music-btns{display:flex;gap:4px;justify-content:center}
        .music-btn{font-family:inherit;font-size:clamp(6px,1.2vw,10px);padding:6px 12px;background:var(--pink);color:#fff;border:2px solid var(--dark-pink);cursor:pointer}
        .music-btn:hover{background:var(--dark-pink)}
        .now-playing{font-size:clamp(4px,0.8vw,6px);color:#666;text-align:center;margin-top:4px;max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
        
        /* ============ MODALS ============ */
        .modal-bg{position:fixed;inset:0;background:rgba(0,0,0,0.75);display:none;justify-content:center;align-items:center;z-index:500;padding:15px}
        .modal-bg.active{display:flex}
        .modal{background:linear-gradient(180deg,#fff5ee,var(--soft-pink));border:6px solid var(--pink);padding:clamp(12px,3vw,25px);max-width:90%;max-height:85vh;overflow-y:auto;position:relative}
        .modal-x{position:absolute;top:8px;right:8px;font-family:inherit;font-size:10px;background:var(--dark-pink);color:#fff;border:none;width:25px;height:25px;cursor:pointer}
        .modal-title{font-size:clamp(9px,2vw,14px);color:var(--dark-pink);margin-bottom:15px;text-align:center}
        .outfits{display:flex;gap:12px;justify-content:center}
        .outfit-opt{background:#fff;border:4px solid var(--pink);padding:12px;cursor:pointer;min-width:80px;text-align:center}
        .outfit-opt:hover{transform:scale(1.05)}
        .outfit-opt.active{background:var(--light-pink);border-color:var(--dark-pink)}
        .outfit-icon{font-size:28px;margin-bottom:8px}
        .outfit-name{font-size:clamp(5px,1.2vw,8px);color:var(--dark-pink)}
        .letter-modal .modal{max-width:650px;background:linear-gradient(180deg,#fff8f0,#ffe4e1);border-color:#d4a574}
        .letter{font-family:'Cormorant Garamond',serif;color:#4a3728;line-height:2;text-align:justify}
        .letter-date{font-family:'Pinyon Script',cursive;font-size:clamp(18px,4vw,28px);text-align:right;color:#8b4513;margin-bottom:25px}
        .letter-greeting{font-family:'Pinyon Script',cursive;font-size:clamp(22px,5vw,36px);color:var(--dark-pink);margin-bottom:20px}
        .letter-body{font-size:clamp(13px,2.5vw,17px);margin-bottom:12px}
        .letter-closing{font-family:'Pinyon Script',cursive;font-size:clamp(18px,4vw,28px);text-align:right;color:#8b4513;margin-top:25px}
        .letter-sig{font-family:'Pinyon Script',cursive;font-size:clamp(22px,5vw,32px);text-align:right;color:var(--dark-pink)}
        .notes-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}
        .note-card{background:linear-gradient(135deg,#ffd700,#ffec8b);border:3px solid #daa520;padding:12px;cursor:pointer;text-align:center}
        .note-card:hover{transform:scale(1.03)}
        .note-card.read{opacity:0.6}
        .note-text{font-size:clamp(7px,1.5vw,10px);color:#4a3728;font-style:italic;margin-bottom:8px;line-height:1.5}
        .note-src{font-size:clamp(5px,1vw,8px);color:#8b4513}
        .zodiac-sec{background:#fff;border:3px solid var(--pink);padding:12px;margin-bottom:12px;text-align:center}
        .zodiac-icon{font-size:clamp(18px,4vw,26px)}
        .zodiac-name{font-size:clamp(9px,2vw,13px);color:var(--dark-pink);margin:6px 0}
        .zodiac-desc{font-size:clamp(6px,1.3vw,9px);color:#666;line-height:1.5}
        .fortune{background:linear-gradient(135deg,#ffd700,#fff8dc);border:3px solid #daa520;padding:15px;text-align:center}
        .fortune-title{font-size:clamp(8px,1.8vw,12px);color:#8b4513;margin-bottom:10px}
        .fortune-text{font-size:clamp(6px,1.3vw,9px);color:#4a3728;line-height:1.6;white-space:pre-line}
        .photo-frame-lg{background:linear-gradient(135deg,#8b4513,#654321);padding:15px;display:inline-block}
        .photo-inner-lg{background:var(--light-pink);padding:10px;min-height:250px;display:flex;justify-content:center;align-items:center}
        .photo-inner-lg img{max-width:100%;max-height:350px;image-rendering:pixelated}
        .heart-fx{position:absolute;font-size:18px;animation:heart-rise 1.5s forwards;pointer-events:none;z-index:200}
        @keyframes heart-rise{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-80px) scale(1.4)}}
        .firework{position:absolute;width:8px;height:8px;border-radius:50%;animation:fw-pop 1s forwards;z-index:200}
        @keyframes fw-pop{0%{transform:scale(0);opacity:1}50%{transform:scale(2)}100%{transform:scale(2.5);opacity:0}}
        #yt-player{position:absolute;top:-9999px}
        @media(max-width:600px){.btns{grid-template-columns:1fr}.music{bottom:auto;top:50%;right:5px}}
    </style>
</head>
<body>
    <div class="pw-screen" id="pwScreen">
        <div class="heart-float" style="top:10%;left:10%">üíï</div>
        <div class="heart-float" style="top:15%;right:15%;animation-delay:0.5s">üíñ</div>
        <div class="heart-float" style="bottom:20%;left:20%;animation-delay:1s">üíó</div>
        <div class="heart-float" style="bottom:15%;right:10%;animation-delay:1.5s">üíù</div>
        <h1 class="pw-title">üå∏ Welcome to Kimberly's World üå∏</h1>
        <p class="pw-sub">Enter the magic word...</p>
        <input type="password" class="pw-input" id="pwInput" placeholder="PASSWORD" maxlength="20" autocomplete="off">
        <button class="pw-btn" onclick="checkPw()">ENTER üíï</button>
        <p class="pw-err" id="pwErr">Hmm, that's not it! Try again üíï</p>
    </div>
    
    <div class="intro" id="intro1"><p class="intro-text">Happy Birthday my beautiful girl</p></div>
    <div class="intro" id="intro2"><p class="intro-text">I wish you were here for your 26th birthday<br><br>but since you're not here<br><br>I thought I'd make you something fun</p><div class="intro-arrow">‚ñº</div><p class="intro-click">CLICK TO CONTINUE</p></div>
    <div class="intro confetti-screen" id="intro3">
        <h1 class="confetti-title">HAPPY BIRTHDAY KIMBERLY<br>I LOVE YOU! üíï</h1>
        <div class="confetti-box" id="confettiBox"></div>
        <div class="ac-chars" id="acChars">
            <img class="ac-char" src="./images/ac1.png" alt="">
            <img class="ac-char" src="./images/ac2.png" alt="">
            <img class="ac-char" src="./images/ac3.png" alt="">
        </div>
    </div>
    
    <div class="game" id="game">
        <div class="room" id="room">
            <div class="wall"><div class="wall-pattern"></div></div>
            <div class="baseboard"></div>
            <div class="floor" id="floor"><div class="floor-pattern"></div></div>
            <div class="window" id="window">
                <div class="sun"></div><div class="moon"></div>
                <div class="star" style="top:15%;left:15%"></div>
                <div class="star" style="top:30%;left:50%;animation-delay:0.5s"></div>
                <div class="star" style="top:20%;left:75%;animation-delay:1s"></div>
                <div class="window-h"></div><div class="window-v"></div>
            </div>
            
            <div class="wall-deco pic-frame" onclick="openModal('photoModal')">
                <div class="pic-inner"><img src="./images/photo.png" alt=""></div>
            </div>
            <div class="wall-deco wall-heart">üíï</div>
            <div class="wall-deco wall-bow">üéÄ</div>
            <div class="wall-deco wall-star">‚≠ê</div>
            
            <!-- BED with porcupine -->
            <div class="bed" onclick="toggleSleep()">
                <img class="bed-sprite" src="./images/bed.png" alt="">
                <div class="porcupine" onclick="event.stopPropagation();pokePorcupine()">
                    <img class="porcupine-sprite" src="./images/porcupine.png" alt="">
                    <div class="porc-msg" id="porcMsg">me love you baobei üíï</div>
                </div>
            </div>
            
            <!-- TABLE with items -->
            <div class="table">
                <img class="table-sprite" src="./images/table.png" alt="">
                <div class="items" id="items">
                    <div class="item" id="item-bouquet" draggable="true"><img class="item-sprite" src="./images/bouquet.png" alt=""></div>
                    <div class="item" id="item-cheesecake" draggable="true"><img class="item-sprite" src="./images/cheesecake.png" alt=""></div>
                    <div class="item" id="item-dvd" draggable="true"><img class="item-sprite" src="./images/dvd.png" alt=""></div>
                    <div class="item" id="item-game" draggable="true"><img class="item-sprite" src="./images/game.png" alt=""></div>
                    <div class="item" id="item-yarn" draggable="true"><img class="item-sprite" src="./images/yarn.png" alt=""></div>
                </div>
            </div>
            
            <!-- CLOSET -->
            <div class="closet" onclick="openModal('closetModal')">
                <img class="closet-sprite" src="./images/closet.png" alt="">
            </div>
            
            <!-- PLANT -->
            <div class="plant"><img class="plant-sprite" src="./images/plant.png" alt=""></div>
            
            <!-- CAT BED - next to plant -->
            <div class="cat-bed"><img class="cat-bed-sprite" src="./images/cat-bed.png" alt=""></div>
            
            <!-- KIMBERLY -->
            <div class="char" id="char">
                <div class="outfit active" id="casual-outfit">
                    <div class="char-sprite" id="casual-idle"></div>
                    <div class="char-sprite" id="casual-walk"></div>
                    <div class="char-sprite" id="casual-dance"></div>
                    <div class="char-sprite" id="casual-drink"></div>
                </div>
                <div class="outfit" id="pj-outfit">
                    <div class="char-sprite" id="pj-idle"></div>
                    <div class="char-sprite" id="pj-walk"></div>
                    <div class="char-sprite" id="pj-dance"></div>
                    <div class="char-sprite" id="pj-drink"></div>
                    <div class="char-sprite" id="pj-sleep"></div>
                </div>
                <div class="activity" id="activity"></div>
                <div class="zzz" id="zzz">üí§</div>
                <div class="drool" id="drool"></div>
            </div>
            
            <!-- PEARL - in front of cat bed -->
            <div class="pearl" id="pearl">
                <div class="pearl-halo"></div>
                <div class="pearl-tag">PEARL</div>
                <div class="pearl-meow" id="pearlMeow">meow~ üê±</div>
                <div class="pearl-sprite" id="pearl-idle"></div>
                <div class="pearl-sprite" id="pearl-box"></div>
            </div>
            
            <!-- UI -->
            <div class="stats">
                <div class="stat"><span class="stat-icon">üíñ</span><div class="stat-bg"><div class="stat-fill" id="happyBar" style="width:50%"></div></div></div>
                <div class="stat"><span class="stat-icon">üç∞</span><div class="stat-bg"><div class="stat-fill hunger" id="hungerBar" style="width:50%"></div></div></div>
            </div>
            <div class="stat-msg" id="statMsg"></div>
            <div class="btns">
                <button class="btn" onclick="openModal('letterModal')">üíå LETTER</button>
                <button class="btn" onclick="openModal('notesModal')">üìù NOTES</button>
                <button class="btn" onclick="openModal('zodiacModal')">‚ôë ZODIAC</button>
                <button class="btn" onclick="showLucky()">üé≤ LUCKY#</button>
                <button class="btn" id="replayBtn" style="display:none" onclick="replayIntro()">üéâ REPLAY</button>
            </div>
            <div class="memory">
                <div class="mem-title">TOGETHER SINCE</div>
                <div class="mem-date">SEPT 18, 2014</div>
                <div class="mem-days"><span id="days">0</span> DAYS üíï</div>
            </div>
            <div class="music">
                <div class="music-title">üéµ MUSIC üéµ</div>
                <div class="music-btns">
                    <button class="music-btn" onclick="playRandom()">‚ñ∂ PLAY</button>
                    <button class="music-btn" onclick="stopMusic()">‚¨õ STOP</button>
                </div>
                <div class="now-playing" id="nowPlaying"></div>
            </div>
        </div>
    </div>

    <!-- MODALS -->
    <div class="modal-bg" id="closetModal"><div class="modal"><button class="modal-x" onclick="closeModal('closetModal')">√ó</button><h2 class="modal-title">üëó CLOSET üëó</h2><div class="outfits"><div class="outfit-opt active" onclick="changeOutfit('casual')" id="opt-casual"><div class="outfit-icon">üëó</div><div class="outfit-name">CASUAL</div></div><div class="outfit-opt" onclick="changeOutfit('pj')" id="opt-pj"><div class="outfit-icon">üåô</div><div class="outfit-name">PAJAMAS</div></div></div></div></div>
    <div class="modal-bg letter-modal" id="letterModal"><div class="modal"><button class="modal-x" onclick="closeModal('letterModal')">√ó</button><div class="letter"><div class="letter-date">January 3rd, 2026</div><div class="letter-greeting">My Dearest Kimberly,</div><p class="letter-body">Thank you for giving me so many years of your life. I am the luckiest man to ever lay eyes upon you. Every time I look at you I am in awe.</p><p class="letter-body">Sometimes I stare in silence admiring your beauty‚Äînot just your physical beauty but everything within. Without you I would not live long because I would not have laughed enough in my life to extend my years.</p><p class="letter-body">I would be so lost in the world without you because your love is what guides me daily in everything. I look for you and see you in everything around me and if you are not in my mind then I am dead and gone.</p><p class="letter-body">I love you so much. I hope you enjoy this little gift I made for you and I hope you enjoy your 26th birthday.</p><div class="letter-closing">Wo ai ni baobei!</div><div class="letter-sig">Your Love</div></div></div></div>
    <div class="modal-bg" id="notesModal"><div class="modal"><button class="modal-x" onclick="closeModal('notesModal')">√ó</button><h2 class="modal-title">üíï NOTES üíï</h2><div class="notes-grid" id="notesGrid"></div></div></div>
    <div class="modal-bg" id="zodiacModal"><div class="modal"><button class="modal-x" onclick="closeModal('zodiacModal')">√ó</button><h2 class="modal-title">‚ú® ZODIAC ‚ú®</h2><div class="zodiac-sec"><div class="zodiac-icon">‚ôë</div><div class="zodiac-name">CAPRICORN</div><div class="zodiac-desc">Born January 3rd ‚Ä¢ Ambitious ‚Ä¢ Natural leader</div></div><div class="zodiac-sec"><div class="zodiac-icon">üêâ</div><div class="zodiac-name">DRAGON (2000)</div><div class="zodiac-desc">Confident ‚Ä¢ Magnetic ‚Ä¢ Boundless energy</div></div><div class="fortune"><div class="fortune-title" id="fortuneTitle"></div><div class="fortune-text" id="fortuneText"></div></div></div></div>
    <div class="modal-bg" id="photoModal"><div class="modal"><button class="modal-x" onclick="closeModal('photoModal')">√ó</button><h2 class="modal-title">üì∑ MEMORIES üì∑</h2><div class="photo-frame-lg"><div class="photo-inner-lg"><img src="./images/photo.png" alt=""></div></div></div></div>

    <div id="yt-player"></div>

    <script>
    const playlist = [
        {id:'dQw4w9WgXcQ', name:'Never Gonna Give You Up'},
        // ADD MORE: {id:'VIDEO_ID', name:'Song Name'},
    ];

    let S={happiness:50,hunger:50,outfit:'casual',sleeping:false,dancing:false,drinking:false,walking:false,readNotes:[],lucky:null,luckyDate:null};
    
    const loveNotes=[
        {text:"You are my life now.",source:"Twilight"},
        {text:"And so the lion fell in love with the lamb.",source:"Twilight"},
        {text:"I love you more than everything else in the world combined.",source:"Twilight"},
        {text:"You're my lobster.",source:"Friends"},
        {text:"It's always been you.",source:"Friends"},
        {text:"I am hopelessly, irretrievably in love with you.",source:"The Office"},
        {text:"Whatever our souls are made of, his and mine are the same.",source:"Wuthering Heights"}
    ];
    
    const dragonFortune={rat:{e:'üêÄ',n:'Rat',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê\n\nExcellent year! Charisma attracts allies."},ox:{e:'üêÇ',n:'Ox',f:"LUCK: ‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê\n\nPatience rewarded."},tiger:{e:'üêÖ',n:'Tiger',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê\n\nPowerful! Bold moves."},rabbit:{e:'üê∞',n:'Rabbit',f:"LUCK: ‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê\n\nLove flourishes."},dragon:{e:'üêâ',n:'Dragon',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê\n\n‚ú® YOUR POWER YEAR! ‚ú®"},snake:{e:'üêç',n:'Snake',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê\n\nWisdom enhanced."},horse:{e:'üê¥',n:'Horse',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê\n\nFreedom and adventure!"},goat:{e:'üêê',n:'Goat',f:"LUCK: ‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê\n\nCreativity flourishes."},monkey:{e:'üêµ',n:'Monkey',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê\n\nClever solutions!"},rooster:{e:'üêì',n:'Rooster',f:"LUCK: ‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê\n\nPrecision pays off."},dog:{e:'üêï',n:'Dog',f:"LUCK: ‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê\n\nFocus on relationships."},pig:{e:'üê∑',n:'Pig',f:"LUCK: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | LOVE: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | CAREER: ‚≠ê‚≠ê‚≠ê‚≠ê\n\nAbundance! üéä"}};
    
    function getZodiac(y){const a=['monkey','rooster','dog','pig','rat','ox','tiger','rabbit','dragon','snake','horse','goat'];return a[y%12];}
    
    // ============ INIT ============
    document.addEventListener('DOMContentLoaded',()=>{
        loadS();
        setupDrag();
        setupClickToMove();
        updateDays();
        updateDayNight();
        updateZodiac();
        populateNotes();
        
        // Make sure character shows on load
        document.getElementById('casual-outfit').classList.add('active');
        
        setInterval(updateDayNight,60000);
        setInterval(checkTime,60000);
        setInterval(pearlAI,8000);
        setInterval(kimIdle,10000);
        setInterval(pearlMeow,12000);
        
        if(sessionStorage.getItem('auth')){
            document.getElementById('pwScreen').classList.add('hidden');
            checkBday();
        }
    });
    
    // ============ CLICK TO MOVE ============
    function setupClickToMove(){
        const room = document.getElementById('room');
        room.addEventListener('click', function(e){
            // Don't move if clicking on furniture, buttons, etc
            if(e.target.closest('.bed, .table, .closet, .btns, .stats, .memory, .music, .item, .porcupine, .pic-frame')) return;
            if(S.sleeping || S.dancing || S.drinking) return;
            
            const rect = room.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const roomWidth = rect.width;
            
            // Convert to percentage (limit to 10% - 80% to keep on screen)
            let targetPercent = (clickX / roomWidth) * 100;
            targetPercent = Math.max(10, Math.min(80, targetPercent));
            
            moveCharTo(targetPercent);
        });
    }
    
    function moveCharTo(targetPercent){
        const c = document.getElementById('char');
        const currentLeft = parseFloat(c.style.left) || 42;
        
        // Determine direction for flip
        if(targetPercent < currentLeft) c.classList.add('walk-left');
        else c.classList.remove('walk-left');
        
        c.classList.add('walking');
        S.walking = true;
        c.style.left = targetPercent + '%';
        
        // Calculate walk time based on distance
        const distance = Math.abs(targetPercent - currentLeft);
        const walkTime = Math.max(300, distance * 15);
        
        setTimeout(()=>{
            c.classList.remove('walking', 'walk-left');
            S.walking = false;
        }, walkTime);
    }
    
    // ============ PASSWORD ============
    function checkPw(){
        const p=document.getElementById('pwInput').value.toUpperCase();
        if(p==='ILOVEYOU'||p==='ADMIN'){
            sessionStorage.setItem('auth','true');
            document.getElementById('pwScreen').classList.add('hidden');
            checkBday();
        }else{
            document.getElementById('pwErr').classList.add('show');
            document.getElementById('pwInput').value='';
            setTimeout(()=>document.getElementById('pwErr').classList.remove('show'),3000);
        }
    }
    document.getElementById('pwInput').addEventListener('keypress',e=>{if(e.key==='Enter')checkPw();});
    
    // ============ INTRO ============
    function checkBday(){
        const d=new Date(),isBday=d.getMonth()===0&&d.getDate()===3,played=localStorage.getItem('introDate');
        if(isBday&&played!==d.toDateString())playIntro();
        else{showGame();if(played===d.toDateString())document.getElementById('replayBtn').style.display='block';}
    }
    function playIntro(){
        document.getElementById('intro1').classList.add('active');
        setTimeout(()=>{document.getElementById('intro1').classList.remove('active');document.getElementById('intro2').classList.add('active');},5000);
        document.getElementById('intro2').onclick=()=>{document.getElementById('intro2').classList.remove('active');showConfetti();};
    }
    function showConfetti(){
        const i3=document.getElementById('intro3');i3.classList.add('active');
        const box=document.getElementById('confettiBox'),colors=['#ff69b4','#ffd700','#87ceeb','#98fb98','#dda0dd'];
        for(let i=0;i<70;i++){const c=document.createElement('div');c.className='confetti';c.style.left=Math.random()*100+'%';c.style.background=colors[Math.floor(Math.random()*colors.length)];c.style.animationDuration=(Math.random()*2+2)+'s';c.style.animationDelay=Math.random()*2+'s';box.appendChild(c);}
        setTimeout(()=>{i3.classList.remove('active');localStorage.setItem('introDate',new Date().toDateString());document.getElementById('replayBtn').style.display='block';showGame();},4500);
    }
    function replayIntro(){document.getElementById('game').classList.remove('active');playIntro();}
    function showGame(){document.getElementById('game').classList.add('active');}
    
    // ============ DAY/NIGHT ============
    function updateDayNight(){const h=new Date().getHours();document.getElementById('room').classList.toggle('night',h<6||h>=18);}
    
    // ============ OUTFITS ============
    function changeOutfit(o){
        S.outfit=o;
        document.querySelectorAll('.char .outfit').forEach(x=>x.classList.remove('active'));
        document.getElementById(o+'-outfit').classList.add('active');
        document.querySelectorAll('.outfit-opt').forEach(x=>x.classList.remove('active'));
        document.getElementById('opt-'+o).classList.add('active');
        saveS();
    }
    
    // ============ SLEEP ============
    function toggleSleep(){
        if(S.outfit!=='pj')return;
        S.sleeping=!S.sleeping;
        const c=document.getElementById('char');
        if(S.sleeping){
            c.classList.add('sleeping');
            document.getElementById('zzz').classList.add('active');
            document.getElementById('drool').classList.add('active');
            c.style.left='8%';c.style.bottom='15%';
        }else{
            c.classList.remove('sleeping');
            document.getElementById('zzz').classList.remove('active');
            document.getElementById('drool').classList.remove('active');
            c.style.left='42%';c.style.bottom='5%';
        }
        saveS();
    }
    
    // ============ KIMBERLY AI ============
    function kimIdle(){
        if(S.sleeping||S.dancing||S.walking)return;
        const acts=['üëã','üß∂','üìñ','üíß',null,null],act=acts[Math.floor(Math.random()*acts.length)];
        if(act){const ind=document.getElementById('activity');ind.textContent=act;ind.classList.add('active');setTimeout(()=>ind.classList.remove('active'),3000);}
    }
    function showCoffee(){
        if(S.sleeping)return;
        S.drinking=true;document.getElementById('char').classList.add('drinking');
        setTimeout(()=>{document.getElementById('char').classList.remove('drinking');S.drinking=false;},3000);
    }
    function checkTime(){
        const h=new Date().getHours(),m=new Date().getMinutes();
        if(h===8&&m===0&&S.sleeping)toggleSleep();
        if(h===8&&m===0)showCoffee();
        if(h===12&&m===0)showCoffee();
        if(h===20&&m===0)showCoffee();
        if(h===22&&m===0&&S.outfit!=='pj')changeOutfit('pj');
        if(h===23&&m===0&&!S.sleeping&&S.outfit==='pj')toggleSleep();
        if(h===8&&m===0&&S.outfit==='pj')changeOutfit('casual');
    }
    
    // ============ PEARL (no random movement, stays by cat bed) ============
    let pearlInBox=false;
    function pearlAI(){
        // Pearl stays in place, just occasionally goes in box
        if(Math.random() > 0.7 && !pearlInBox){
            pearlInBox=true;
            document.getElementById('pearl').classList.add('in-box');
            setTimeout(()=>{
                pearlInBox=false;
                document.getElementById('pearl').classList.remove('in-box');
            },5000);
        }
    }
    function pearlMeow(){if(Math.random()>0.4){const m=document.getElementById('pearlMeow');m.classList.add('show');setTimeout(()=>m.classList.remove('show'),2000);}}
    
    // ============ DRAG & DROP ============
    let draggedItem=null;
    function setupDrag(){
        document.querySelectorAll('.item').forEach(item=>{
            item.addEventListener('dragstart',e=>{draggedItem=item;e.dataTransfer.setData('text',item.id);});
            item.addEventListener('dragend',()=>draggedItem=null);
            item.addEventListener('touchstart',e=>{draggedItem=item;item.dataset.sx=e.touches[0].clientX;item.dataset.sy=e.touches[0].clientY;},{passive:true});
            item.addEventListener('touchmove',e=>{if(!draggedItem)return;const dx=e.touches[0].clientX-parseFloat(draggedItem.dataset.sx),dy=e.touches[0].clientY-parseFloat(draggedItem.dataset.sy);draggedItem.style.transform='translate('+dx+'px,'+dy+'px) scale(1.15)';},{passive:true});
            item.addEventListener('touchend',e=>{if(!draggedItem)return;const t=e.changedTouches[0],c=document.getElementById('char'),r=c.getBoundingClientRect();if(t.clientX>=r.left&&t.clientX<=r.right&&t.clientY>=r.top&&t.clientY<=r.bottom)giveGift(draggedItem.id.replace('item-',''));draggedItem.style.transform='';draggedItem=null;});
        });
        const c=document.getElementById('char');
        c.addEventListener('dragover',e=>e.preventDefault());
        c.addEventListener('drop',e=>{e.preventDefault();if(draggedItem)giveGift(draggedItem.id.replace('item-',''));});
    }
    function giveGift(type){
        if(S.sleeping)return;
        S.happiness=Math.min(100,S.happiness+15);
        S.hunger=Math.min(100,S.hunger+(type==='cheesecake'?20:5));
        updateBars();celebrate();spawnHearts();
        if(S.happiness>=100&&S.hunger>=100)fireworks();
        saveS();
    }
    function updateBars(){
        document.getElementById('happyBar').style.width=S.happiness+'%';
        document.getElementById('hungerBar').style.width=S.hunger+'%';
        const msg=document.getElementById('statMsg');
        if(S.happiness>=100&&S.hunger>=100){
            msg.textContent="Kimberly is the happiest girl! üíï";
            msg.classList.add('show');
            setTimeout(()=>msg.classList.remove('show'),4000);
        }else msg.classList.remove('show');
    }
    function celebrate(){const c=document.getElementById('char');S.dancing=true;c.classList.add('dancing');setTimeout(()=>{c.classList.remove('dancing');S.dancing=false;},2000);}
    function spawnHearts(){const c=document.getElementById('char'),r=c.getBoundingClientRect();for(let i=0;i<6;i++){const h=document.createElement('div');h.className='heart-fx';h.textContent='üíï';h.style.left=(r.left+Math.random()*r.width)+'px';h.style.top=r.top+'px';document.body.appendChild(h);setTimeout(()=>h.remove(),1500);}}
    function fireworks(){const colors=['#ff69b4','#ffd700','#87ceeb','#ff6b6b'];for(let i=0;i<15;i++){setTimeout(()=>{const f=document.createElement('div');f.className='firework';f.style.left=Math.random()*window.innerWidth+'px';f.style.top=Math.random()*(window.innerHeight/2)+'px';f.style.background=colors[Math.floor(Math.random()*colors.length)];document.body.appendChild(f);setTimeout(()=>f.remove(),1000);},i*80);}}
    
    // ============ MODALS ============
    function openModal(id){document.getElementById(id).classList.add('active');}
    function closeModal(id){document.getElementById(id).classList.remove('active');}
    document.querySelectorAll('.modal-bg').forEach(bg=>bg.addEventListener('click',e=>{if(e.target===bg)bg.classList.remove('active');}));
    function pokePorcupine(){document.getElementById('porcMsg').classList.add('show');spawnHearts();setTimeout(()=>document.getElementById('porcMsg').classList.remove('show'),2500);}
    function populateNotes(){const g=document.getElementById('notesGrid');g.innerHTML='';loveNotes.forEach((n,i)=>{const c=document.createElement('div');c.className='note-card'+(S.readNotes.includes(i)?' read':'');c.innerHTML='<div class="note-text">"'+n.text+'"</div><div class="note-src">- '+n.source+'</div>';c.onclick=()=>{if(!S.readNotes.includes(i)){S.readNotes.push(i);c.classList.add('read');saveS();}};g.appendChild(c);});}
    function updateZodiac(){const y=new Date().getFullYear(),a=getZodiac(y),f=dragonFortune[a];document.getElementById('fortuneTitle').textContent=f.e+' DRAGON IN YEAR OF '+f.n.toUpperCase()+' ('+y+')';document.getElementById('fortuneText').textContent=f.f;}
    function showLucky(){const today=new Date().toDateString();if(S.luckyDate!==today){S.lucky=Math.floor(Math.random()*100)+1;S.luckyDate=today;saveS();}alert('üçÄ Lucky: '+S.lucky+' üçÄ');}
    
    // ============ DAYS COUNTER - Fixed ============
    function updateDays(){
        const start = new Date(2014, 8, 18); // Sept 18, 2014 (months are 0-indexed)
        const now = new Date();
        const diff = Math.floor((now - start) / (1000 * 60 * 60 * 24));
        document.getElementById('days').textContent = diff.toLocaleString();
    }
    
    // ============ MUSIC ============
    let player,playerReady=false;
    function onYouTubeIframeAPIReady(){player=new YT.Player('yt-player',{height:'1',width:'1',videoId:'',playerVars:{autoplay:0},events:{onReady:()=>playerReady=true,onStateChange:e=>{const c=document.getElementById('char');if(e.data===YT.PlayerState.PLAYING){S.dancing=true;c.classList.add('dancing');}else{S.dancing=false;c.classList.remove('dancing');}}}});}
    function playRandom(){if(playlist.length===0){alert('Add songs to playlist!');return;}const song=playlist[Math.floor(Math.random()*playlist.length)];if(playerReady){player.loadVideoById(song.id);player.playVideo();document.getElementById('nowPlaying').textContent='‚ô™ '+song.name;}}
    function stopMusic(){if(playerReady){player.stopVideo();S.dancing=false;document.getElementById('char').classList.remove('dancing');document.getElementById('nowPlaying').textContent='';}}
    
    // ============ SAVE/LOAD ============
    function saveS(){localStorage.setItem('kimS',JSON.stringify(S));}
    function loadS(){const saved=localStorage.getItem('kimS');if(saved){S={...S,...JSON.parse(saved)};changeOutfit(S.outfit);updateBars();}}
    </script>
    <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
